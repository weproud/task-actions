# í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

Task Actions í”„ë¡œì íŠ¸ì˜ í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ì— ëŒ€í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ§ª í…ŒìŠ¤íŠ¸ êµ¬ì¡°

### ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
tests/
â”œâ”€â”€ setup.ts                # Jest ì „ì—­ ì„¤ì •
â”œâ”€â”€ helpers/                # í…ŒìŠ¤íŠ¸ í—¬í¼ í•¨ìˆ˜ë“¤
â”‚   â””â”€â”€ test-utils.ts       # ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ fixtures/               # í…ŒìŠ¤íŠ¸ìš© ê³ ì • ë°ì´í„°
â”‚   â”œâ”€â”€ sample-variables.ts # í…ŒìŠ¤íŠ¸ìš© ë³€ìˆ˜
â”‚   â””â”€â”€ sample-templates.ts # í…ŒìŠ¤íŠ¸ìš© í…œí”Œë¦¿
â”œâ”€â”€ unit/                   # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ cli/               # CLI ëª…ë ¹ì–´ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ cli.test.ts    # ê¸°ë³¸ CLI í…ŒìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ add-commands.test.ts # Add ëª…ë ¹ì–´ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ core/              # í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ project.test.ts     # í”„ë¡œì íŠ¸ ê´€ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ validation.test.ts  # ê²€ì¦ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ utils.test.ts       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ generator/         # í…œí”Œë¦¿ ìƒì„± í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ template-engine.test.ts      # í…œí”Œë¦¿ ì—”ì§„ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ file-system-utils.test.ts    # íŒŒì¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ mcp/               # MCP ì„œë²„ í…ŒìŠ¤íŠ¸
â”‚       â””â”€â”€ tools.test.ts  # MCP ë„êµ¬ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ integration/           # í†µí•© í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ full-workflow.test.ts # ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
â””â”€â”€ performance/           # ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
    â””â”€â”€ performance.test.ts # ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸
```

## ğŸš€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### ê¸°ë³¸ ëª…ë ¹ì–´

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test
make test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íƒ€ì… ì‹¤í–‰
make test-unit          # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
make test-integration   # í†µí•© í…ŒìŠ¤íŠ¸
make test-performance   # ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
make test-coverage

# ê°ì‹œ ëª¨ë“œ (ê°œë°œ ì¤‘)
make test-watch
```

### Jest ì§ì ‘ ì‹¤í–‰

```bash
# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‹¤í–‰
npx jest tests/unit/cli/cli.test.ts

# íŒ¨í„´ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx jest --testNamePattern="init"

# íŠ¹ì • ë””ë ‰í† ë¦¬ì˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx jest tests/unit/core/

# ë³€ê²½ëœ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸
npx jest --onlyChanged

# ë””ë²„ê·¸ ëª¨ë“œ
npx jest --verbose
```

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬

### 1. CLI í…ŒìŠ¤íŠ¸ (`tests/unit/cli/`)

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:**
- `init` ëª…ë ¹ì–´: í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- `add` ëª…ë ¹ì–´: í…œí”Œë¦¿ íŒŒì¼ ìƒì„± (action, workflow, mcp, rule, task)
- `status` ëª…ë ¹ì–´: í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸
- `validate` ëª…ë ¹ì–´: í”„ë¡œì íŠ¸ ê²€ì¦
- `clean` ëª…ë ¹ì–´: í”„ë¡œì íŠ¸ ì •ë¦¬
- `start` ëª…ë ¹ì–´: íƒœìŠ¤í¬ ì‹œì‘
- `list` ëª…ë ¹ì–´: í…œí”Œë¦¿ ëª©ë¡
- `slack` ëª…ë ¹ì–´: Slack ì•Œë¦¼

**ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
- ëª…ë ¹ì–´ ì‹¤í–‰ ì„±ê³µ/ì‹¤íŒ¨
- íŒŒì¼ ìƒì„± í™•ì¸
- ì¶œë ¥ ë©”ì‹œì§€ ê²€ì¦
- ì—ëŸ¬ ì²˜ë¦¬

### 2. Core ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ (`tests/unit/core/`)

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:**
- í”„ë¡œì íŠ¸ ê´€ë¦¬ (`project.ts`)
- ê²€ì¦ ê¸°ëŠ¥ (`validation.ts`)
- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (`utils.ts`)
- ì—ëŸ¬ í•¸ë“¤ë§ (`error-handler.ts`)

**ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
- í”„ë¡œì íŠ¸ ì´ˆê¸°í™”/ì •ë¦¬
- YAML íŒŒì¼ ê²€ì¦
- Slack/Discord ì•Œë¦¼
- íŒŒì¼ ì‹œìŠ¤í…œ ì‘ì—…

### 3. Generator í…ŒìŠ¤íŠ¸ (`tests/unit/generator/`)

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:**
- í…œí”Œë¦¿ ì—”ì§„ (`template-engine.ts`)
- íŒŒì¼ ì‹œìŠ¤í…œ ìœ í‹¸ë¦¬í‹° (`file-system-utils.ts`)
- í…œí”Œë¦¿ í”„ë¡œì„¸ì„œ

**ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
- ë³€ìˆ˜ ì¹˜í™˜
- íŒŒì¼ ì½ê¸°/ì“°ê¸°
- ë””ë ‰í† ë¦¬ ìƒì„±
- í…œí”Œë¦¿ ë Œë”ë§

### 4. MCP ì„œë²„ í…ŒìŠ¤íŠ¸ (`tests/unit/mcp/`)

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:**
- MCP ë„êµ¬ë“¤ (`tools.ts`)
- CLI ëª…ë ¹ì–´ ì‹¤í–‰
- ì™¸ë¶€ í”„ë¡œì„¸ìŠ¤ í†µì‹ 

**ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
- ëª…ë ¹ì–´ ì‹¤í–‰
- ì—ëŸ¬ ì²˜ë¦¬
- íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬
- ì¶œë ¥ íŒŒì‹±

### 5. í†µí•© í…ŒìŠ¤íŠ¸ (`tests/integration/`)

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:**
- ì „ì²´ ì›Œí¬í”Œë¡œìš°
- ì‹¤ì œ íŒŒì¼ ì‹œìŠ¤í…œ ì‚¬ìš©
- ëª…ë ¹ì–´ ì²´ì¸ ì‹¤í–‰

**ì£¼ìš” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
- í”„ë¡œì íŠ¸ ìƒëª…ì£¼ê¸°
- íŒŒì¼ ìƒì„± ë° ê²€ì¦
- ì—ëŸ¬ ë³µêµ¬
- ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

### 6. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (`tests/performance/`)

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:**
- ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œê°„
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬
- ë™ì‹œ ì‹¤í–‰

**ì„±ëŠ¥ ê¸°ì¤€:**
- í”„ë¡œì íŠ¸ ì´ˆê¸°í™”: 5ì´ˆ ì´ë‚´
- íŒŒì¼ ìƒì„±: 10ì´ˆ ì´ë‚´
- ê²€ì¦: 3ì´ˆ ì´ë‚´
- ìƒíƒœ í™•ì¸: 2ì´ˆ ì´ë‚´

## ğŸ› ï¸ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

### í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°

```typescript
import { describe, it, expect, beforeEach, afterEach, jest } from '@jest/globals';
import { createTempDir, cleanupTempDir } from '../../helpers/test-utils';

describe('ê¸°ëŠ¥ëª…', () => {
    let tempDir: string;

    beforeEach(() => {
        tempDir = createTempDir();
        // í…ŒìŠ¤íŠ¸ ì „ ì„¤ì •
    });

    afterEach(() => {
        cleanupTempDir(tempDir);
        // í…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬
    });

    describe('ì„¸ë¶€ ê¸°ëŠ¥', () => {
        it('should ì˜ˆìƒ ë™ì‘', async () => {
            // Given
            // When
            // Then
            expect(result).toBe(expected);
        });
    });
});
```

### ëª¨í‚¹ ê°€ì´ë“œ

```typescript
// íŒŒì¼ ì‹œìŠ¤í…œ ëª¨í‚¹
jest.mock('fs');
const mockFs = fs as jest.Mocked<typeof fs>;

// í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ëª¨í‚¹
jest.mock('child_process');
const mockExec = exec as jest.MockedFunction<typeof exec>;

// ì½˜ì†” ì¶œë ¥ ìº¡ì²˜
const consoleCapture = captureConsoleOutput();
```

### í—¬í¼ í•¨ìˆ˜ ì‚¬ìš©

```typescript
// ì„ì‹œ ë””ë ‰í† ë¦¬ ìƒì„±
const tempDir = createTempDir();

// í…ŒìŠ¤íŠ¸ ë³€ìˆ˜ ìƒì„±
const variables = createTestVariables();

// ì½˜ì†” ì¶œë ¥ ìº¡ì²˜
const { logs, errors, restore } = captureConsoleOutput();
```

## ğŸ“Š ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

- **ì „ì²´ ì»¤ë²„ë¦¬ì§€**: 80% ì´ìƒ
- **í•¨ìˆ˜ ì»¤ë²„ë¦¬ì§€**: 90% ì´ìƒ
- **ë¼ì¸ ì»¤ë²„ë¦¬ì§€**: 85% ì´ìƒ
- **ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€**: 75% ì´ìƒ

## ğŸ› ë””ë²„ê¹…

### í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ í™•ì¸ì‚¬í•­

1. **í™˜ê²½ ë³€ìˆ˜**: `NODE_ENV=test` ì„¤ì • í™•ì¸
2. **íŒŒì¼ ê¶Œí•œ**: ì„ì‹œ íŒŒì¼ ìƒì„±/ì‚­ì œ ê¶Œí•œ í™•ì¸
3. **ëª¨í‚¹**: ì™¸ë¶€ ì˜ì¡´ì„±ì´ ì˜¬ë°”ë¥´ê²Œ ëª¨í‚¹ë˜ì—ˆëŠ”ì§€ í™•ì¸
4. **ë¹„ë™ê¸° ì²˜ë¦¬**: async/await ì˜¬ë°”ë¥¸ ì‚¬ìš© í™•ì¸

### ë¡œê·¸ í™•ì¸

```bash
# ìƒì„¸ ë¡œê·¸ì™€ í•¨ê»˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx jest --verbose --no-coverage

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ë””ë²„ê·¸
npx jest --testNamePattern="íŠ¹ì •í…ŒìŠ¤íŠ¸" --verbose
```

## ğŸ”„ CI/CD í†µí•©

GitHub Actionsì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í…ŒìŠ¤íŠ¸:

```yaml
- name: Run tests
  run: |
    npm test
    npm run test:coverage
```

## ğŸ“ í…ŒìŠ¤íŠ¸ ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] í…ŒìŠ¤íŠ¸ ì´ë¦„ì´ ëª…í™•í•˜ê³  ì„¤ëª…ì ì¸ê°€?
- [ ] Given-When-Then íŒ¨í„´ì„ ë”°ë¥´ëŠ”ê°€?
- [ ] ëª¨ë“  ì—ëŸ¬ ì¼€ì´ìŠ¤ë¥¼ ë‹¤ë£¨ëŠ”ê°€?
- [ ] ì™¸ë¶€ ì˜ì¡´ì„±ì´ ì˜¬ë°”ë¥´ê²Œ ëª¨í‚¹ë˜ì—ˆëŠ”ê°€?
- [ ] í…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬ê°€ ì œëŒ€ë¡œ ë˜ëŠ”ê°€?
- [ ] í…ŒìŠ¤íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œê°€?
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ì— ì ì ˆí•œ íƒ€ì„ì•„ì›ƒì´ ì„¤ì •ë˜ì—ˆëŠ”ê°€?
